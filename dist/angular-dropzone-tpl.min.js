!function(){try{app=angular.module("angular-dropzone-tpls")}catch(e){app=angular.module("angular-dropzone-tpls",[])}app.run(["$templateCache",function(e){"use strict";e.put("src/dropzone-directive.html",'<div class="dropzone-container">\n  <div ng-show="dropzoneAlerts.length > 0">\n    <div class="alert alert-{{alert.type}}" ng-repeat="alert in dropzoneAlerts">\n      <ul>\n        <li>\n          <span ng-bind="alert.msg|limitTo:80"></span>\n        </li>\n      </ul>\n      <a class="close" ng-href="javascript:void(0)" ng-click="dropzoneAlerts.splice($index, 1)" >\n        <i class="fa fa-times"></i>\n      </a>\n    </div>\n  </div>\n  <div class="dropzone">\n    <div class="dropzone-inner" ng-transclude>\n    </div>\n    <div class="dropzone-preview">\n    </div>\n  </div>\n</div>\n\n\n')}])}(),function(){angular.module("angular-dropzone",["angular-dropzone-tpls"])}.call(this),function(){this.dropzoneModule=angular.module("angular-dropzone"),this.dropzoneModule.directive("dzField",["$http",function(){var e;return e={restrict:"AE",require:"^ngDropzone",link:{post:function(e,n,r,t){return t.setField(n)}}}}])}.call(this),function(){this.dropzoneModule=angular.module("angular-dropzone"),this.dropzoneModule.directive("dropzonePreview",["$http",function(){var e;return e={restrict:"C",require:"^ngDropzone",link:{post:function(e,n,r,t){return t.setPreviewZone(n[0])}}}}])}.call(this),function(){this.dropzoneModule=angular.module("angular-dropzone"),this.dropzoneModule.directive("ngDropzone",["$q","$parse","$http","$timeout",function(e,n,r,t){var o;return Dropzone.autoDiscover=!1,o={controller:["$scope",function(e){return e.dropzoneAlerts||(e.dropzoneAlerts=[]),this.setField=function(n){return e.dzField=n,e.paramName=n.attr("name")},this.setPreviewZone=function(n){return e.dzPreviewZone=n},this.addError=function(n){return e.$apply(function(){return e.dropzoneAlerts.push({type:"danger",msg:n})})},this.addSuccess=function(n){return e.$apply(function(){return e.dropzoneAlerts.push({type:"success",msg:n})})},this}],restrict:"EC",templateUrl:function(e,n){return n.template||"src/dropzone-directive.html"},replace:!0,transclude:!0,scope:{dzSuccess:"&"},link:{pre:function(n){return n.dzParamNamePromise=e.defer()},post:function(e,o,s,i){var a;return a="form"===o.tagName?o.attrs("url"):s.dzUrl,t(function(){var t,l;return l={paramName:s.dzField||e.dzField.attr("name"),acceptedFiles:".jpeg, .jpg, .png, .doc, .xls, .pdf, .odt",previewsContainer:e.dzPreviewZone,autoProcessQueue:!0,url:a,clickable:!0,withCredentials:!0,headers:r.defaults.headers.common},s.dzOptions&&(l=angular.extend(l,n(s.dzOptions)(e))),t=new Dropzone(o[0],l),t.on("success",function(n,r){var o;return o=e.dzSuccess(),isFunction(o)&&o(r),s.dzBatch&&0!==t.getUploadingFiles().length?void 0:i.addSuccess(s.dzSuccessMsg||"All files sent !")}),t.on("error",function(e){return e.xhr.response.messages?angular.forEach(e.xhr.response.messages,function(e,n){return i.addError(e+" : "+angular.toJson(n))}):i.addError("Problem sending "+angular.toJson(e.xhr.response))},0)})}}}}])}.call(this);