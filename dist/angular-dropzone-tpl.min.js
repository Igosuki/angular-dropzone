!function(){try{app=angular.module("angular-dropzone-tpls")}catch(e){app=angular.module("angular-dropzone-tpls",[])}app.run(["$templateCache",function(e){"use strict";e.put("src/dropzone-directive.html",'<div class="dropzone-container">\n  <div ng-show="dropzoneAlerts.length > 0">\n    <div class="alert alert-{{alert.type}}" ng-repeat="alert in dropzoneAlerts">\n      <ul>\n        <li>\n          <span ng-bind="alert.msg|limitTo:80"></span>\n        </li>\n      </ul>\n      <a class="close" ng-href="javascript:void(0)" ng-click="dropzoneAlerts.splice($index, 1)" >\n        <i class="fa fa-times"></i>\n      </a>\n    </div>\n  </div>\n  <div class="dropzone">\n    <div class="dropzone-inner" ng-transclude>\n    </div>\n    <div class="dropzone-preview">\n    </div>\n  </div>\n</div>\n\n\n')}])}(),function(){angular.module("angular-dropzone",["angular-dropzone-tpls"])}.call(this),function(){this.dropzoneModule=angular.module("angular-dropzone"),this.dropzoneModule.directive("dzField",["$http",function(){var e;return e={restrict:"AE",require:"^ngDropzone",link:{post:function(e,n,r,t){return t.setField(n)}}}}])}.call(this),function(){this.dropzoneModule=angular.module("angular-dropzone"),this.dropzoneModule.directive("dropzonePreview",["$http",function(){var e;return e={restrict:"C",require:"^ngDropzone",link:{post:function(e,n,r,t){return t.setPreviewZone(n[0])}}}}])}.call(this),function(){this.dropzoneModule=angular.module("angular-dropzone"),this.dropzoneModule.directive("ngDropzone",["$q","$parse","$http",function(e,n,r){var t;return Dropzone.autoDiscover=!1,t={controller:["$scope",function(e){return e.dropzoneAlerts||(e.dropzoneAlerts=[]),this.setField=function(n){return e.dzField=n,e.paramName=n.attr("name")},this.setPreviewZone=function(n){return e.dzPreviewZone=n},this.addError=function(n){return e.$apply(function(){return e.dropzoneAlerts.push({type:"danger",msg:n})})},this.addSuccess=function(n){return e.$apply(function(){return e.dropzoneAlerts.push({type:"success",msg:n})})},this}],restrict:"EC",templateUrl:function(e,n){return n.template||"src/dropzone-directive.html"},replace:!0,transclude:!0,scope:{dzSuccess:"="},link:{pre:function(n){return n.dzParamNamePromise=e.defer()},post:function(e,t,o,s){var a;return a="form"===t.tagName?t.attrs("url"):o.dzUrl,$timeout(function(){var i,d;return d={paramName:o.dzField||e.dzField.attr("name"),acceptedFiles:".jpeg, .jpg, .png, .doc, .xls, .pdf, .odt",previewsContainer:e.dzPreviewZone,autoProcessQueue:!0,url:a,clickable:!0,withCredentials:!0,headers:r.defaults.headers.common},o.dzOptions&&(d=angular.extend(d,n(o.dzOptions)(e))),i=new Dropzone(t[0],d),i.on("success",function(n,r){return e.dzSuccess&&e.dzSuccess(r),o.dzBatch&&0!==i.getUploadingFiles().length?void 0:s.addSuccess(o.dzSuccessMsg||"All files sent !")}),i.on("error",function(e){return e.xhr.response.messages?angular.forEach(e.xhr.response.messages,function(e,n){return s.addError(e+" : "+angular.toJson(n))}):s.addError("Problem sending "+angular.toJson(e.xhr.response))},0)})}}}}])}.call(this);